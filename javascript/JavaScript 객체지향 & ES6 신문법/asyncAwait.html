<button id="버튼">버튼</button>

<script>
  // async/await
  // 연산이 끝나면 특정 코드를 실행하고 싶음
  // async를 function 앞에 붙이면 함수가 Promise 역할 가능
  // 함수 실행 후에 Promise 오브젝트가 남습니다(promise가 리턴한다)
  // 성공만 판단가능
  async function 더하기(){
    let 프로미스 = new Promise((성공, 실패)=>{
      let 힘든연산 = 1 + 1;
      // 실패(100);
      성공(힘든연산)
    })
    // async function 안에서 쓰는 await은 then 대신 사용가능합니다
    // await은 프로미스 실패시 에러나고 멈춥니다. 방지하려면 try{} catch{}
    // try { 이걸해보고에러나면 } catch { 이걸실행해주세요 }
    try {
      let 결과 = await 프로미스; // 여기서 에러로 멈춤
      console.log(결과) 
    } catch {
      console.log('프로미스 연산이 잘 안되었군요')
    }
    // 프로미스.then(function(){
    //   console.log('성공이에요')
    // });
  };

  더하기()

  // 더하기().then((결과)=>{
  //   console.log('성공이에요 ' + 결과)
  // })

  async function 버튼누르기함수(){
    let 버튼 = document.getElementById('버튼');
    let 버튼누르기 = new Promise((성공, 실패)=>{
      버튼.addEventListener('click', ()=>{
        성공('성공했어요')
      })
    })
    try {
      let 결과 = await 버튼누르기;
      console.log(결과)
    } catch {
      console.log('프로미스 연산이 잘 안되었군요')
    }
  }
  버튼누르기함수()
</script>